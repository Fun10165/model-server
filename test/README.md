# 服务器端测试
- **测试方法**：  
  运行本目录下的 `test.sh` 脚本（使用 Bash 执行）。
- **预期结果**：  
  检测服务器运行状态及 MCP 服务启动情况。
- **异常处理**：  
  - 若 MCP 服务启动失败，建议修改 `../src/app/config.py` 中的服务器配置（删除部分服务器）。  
  ⚠️ **警告**：此操作可能导致 MCP 服务部分功能不可用。

---

# 讯飞星辰端测试
## 📍 通用说明
- **推荐调试方式**：在编辑页面调试（便于定位问题）
- **常见错误提示**：
  | 错误提示 | 原因 | 解决方案 |
  |----------|------|----------|
  | `刚刚开小差了` | 未知错误 | 使用调试页面查看详情 |
  | `UTF-8序列异常` | 输入文本过长 | 缩短输入文本 |

## 📤 不上传文件场景
### 文档管理操作
1. **输入 `清除已有文档`**  
   → 弹出选项：  
      **A. 继续清除文档**：清空 DOCUMENT  
      **B. 不清除文档**：无变化

2. **输入文档内容**（如 `中国近代史讲义...`）  
   → 弹出选项：  
      **A. 追加文档**：当前内容追加到 DOCUMENT  
      **B. 替换文档**：覆盖原有 DOCUMENT  
      **C. 取消操作**：无变化

3. **输入无意义文本**（如 `adshofhads...`）  
   → 提示用户正确使用方式

### 内容生成操作
4. **输入 `我想生成PPT [主题内容]`**  
   → 耗时约 2 分钟  
   → 返回 PPT 链接（基于输入内容 + DOCUMENT）  
   ⚠️ **警告**：敏感内容可能导致无图片生成

5. **输入 `我想生成微博文案 [内容]`**  
   → 询问生图数量 → 返回文案 + AI 图片

6. **输入 `我想生成公众号文案 [内容]`**  
   → 询问生图数量 → 返回文案 + 图片 + Markdown 转 HTML 指引

7. **输入 `我想生成图片 [内容]`**  
   → 询问生图数量 → 返回生成图片

### 工具类操作
8. **输入 `调用python计算10^4以内素数的和`**  
   → 返回结果：`5,736,396`

9. **输入 `创建一个空白txt文档`**  
   → 成功创建空白文档

### 特殊交互
10. **输入 `看看这个`**  
    → 要求用户明确需求

11. **输入 `我要输入文档`**  
    → 继续追问文档内容

12. **输入 `我要查看文档`**  
    → 展示当前 DOCUMENT 内容

13. **输入超长文本**（>3000 非 ASCII 或 >12000 混合字符）  
    → 报错提示 `UTF-8序列错误`

## 📥 上传文件场景
- **禁止操作**：  
  所有文档管理/生成/工具类命令（上述 1-9 项）均提示 `不能进行该操作`
- **允许操作**：
  - `看看这个`：要求明确需求
  - `我要输入文档`：解析上传文档
  - `我要查看文档`：解析上传文档
  - 超长文本：报错提示 `UTF-8序列错误`

---

## 🧹 测试结束建议
**最后步骤**：  
不上传文件 → 输入 `清除已有文档` → 清理临时变量
